(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0303ea06"],{"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),a=o("species");t.exports=function(t){return!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var r=n("861d"),o=n("e8b5"),a=n("b622"),i=a("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?o.f(t,i,a(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),a=n("e8b5"),i=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),f=n("65f0"),l=n("1dde"),p=n("b622"),d=p("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",b=!o((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),v=l("concat"),g=function(t){if(!i(t))return!1;var e=t[d];return void 0!==e?!!e:a(t)},w=!b||!v;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,o,a,i=s(this),l=f(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?i:arguments[e],g(a)){if(o=c(a.length),p+o>m)throw TypeError(h);for(n=0;n<o;n++,p++)n in a&&u(l,p,a[n])}else{if(p>=m)throw TypeError(h);u(l,p++,a)}return l.length=p,l}})},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,c="name";!r||c in a||o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},ecb4:function(t,e,n){"use strict";e["a"]={methods:{genUploadHeaders:function(){return{Authorization:"Bearer ".concat(localStorage.token||"")}}}}},ff7b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),n("el-form",{staticClass:"demo-form-inline",attrs:{model:t.form,"label-position":"right","label-width":"80px"}},[n("el-form-item",{attrs:{label:"物品名称"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"物品名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"物品图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":t.handleUploadSuccess,headers:t.genUploadHeaders()}},[t.form.icon?n("img",{staticClass:"avatar",attrs:{src:t.form.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.id?"修改":"保存"))])],1)],1)],1)},o=[],a=(n("99af"),n("b0c0"),n("96cf"),n("89ba")),i=n("ecb4"),s={components:{},props:{id:String},mixins:[i["a"]],created:function(){this.id&&this.fetchCatInfo(this.id)},data:function(){return{form:{name:"",icon:""},options:[]}},methods:{handleUploadSuccess:function(t){console.log("uploadImgRes::",t),this.form.icon=t.url},fetchCatInfo:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/rest/items/".concat(e));case 2:n=t.sent,r=n.data,o=r.name,a=r.icon,this.form.name=o,this.form.icon=a;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=null,!this.id){t.next=7;break}return t.next=4,this.$http.put("/rest/items/".concat(this.id),this.form);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.$http.post("/rest/items",this.form);case 9:e=t.sent;case 10:this.$router.push("/admin/items/list"),this.$message({type:"success",message:"".concat(e.status,"，").concat(this.id?"修改成功":"保存成功"," ")});case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},c=s,u=n("2877"),f=Object(u["a"])(c,r,o,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-0303ea06.2bf618d6.js.map